<div class="container" id="search-near-parks">

  <div class="row">
    <div class="col l6 s12 card">
      <div id="park-map" class="card-content"></div>
    </div>
    <div class="col l6 s12">
      <h2>現在地周辺の公園を検索</h2>
    </div>
  </div>

  <div class="row">
    <div class="col s8">
      <select class="browser-default" v-model="distance" v-bind:action="action" action="/ja/search/near-parks">
      % for my $num ( map { $_ * 200 } 1 .. 10 ) {
        <option value="<%= $num %>"><%= $num %></option>
      % }
      </select>
    </div>
    <div class="col s4">
      <button class="waves-effect btn-large" v-on:click="send">検索</button>
    </div>
  </div>

  <div class="row">
    <h3 v-if="showResult"><%= '検索結果' %></h3>
    <div class="col s12" v-html="result"></div>
  </div>

</div>
<script>

  "use strict";

  window.addEventListener('load', function () {
    var parkMap = new hirakataPapark.ParkMap({
      url: '<%= url_for("/$lang/park/") %>',
      mapId: 'park-map',
    });
    parkMap.registParkMarkers( JSON.parse('<%== $parks_json %>') );
    parkMap.registCurrentLocation();
  });

  new Vue({
  });

</script>

